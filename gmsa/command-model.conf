subsystem = TINS
component = GMS Assembly

receive=[

  # ------------------------------------------------------------
  #  Load a measurement plan
  # ------------------------------------------------------------
  {
    name = setMeasurementPlan
    description = """Load the Spatial Analyzer Measurement Plan (MP) to execute next."""
    completionType = immediate
    requiredArgs = ["mpName"]
    args = [
      {
        name = mpName
        description = """Measurement-plan identifier or path (e.g. "M1_M2_M3.mp")."""
        type = string
      }
    ]
  }

  # ------------------------------------------------------------
  #  Enable / disable lasers on all three trackers
  # ------------------------------------------------------------
  {
    name = enableLasers
    description = """Turn laser emission on/off for each tracker."""
    completionType = immediate
    requiredArgs = ["t1","t2","t3"]
    args = [
      {
        name = t1
        description = """Tracker 1 laser enabled (true) or disabled (false)."""
        type = boolean
      }
      {
        name = t2
        description = """Tracker 2 laser enabled (true) or disabled (false)."""
        type = boolean
      }
      {
        name = t3
        description = """Tracker 3 laser enabled (true) or disabled (false)."""
        type = boolean
      }
    ]
  }

  # ------------------------------------------------------------
  #  Execute / abort a measurement plan
  # ------------------------------------------------------------
  {
    name = execute
    description = """Run the currently-loaded Measurement Plan."""
    completionType = longRunning
    requiredArgs = ["runId"]
    args = [
      {
        name = runId
        description = """Client-supplied identifier for this execution."""
        type = string
      }
    ]
  }

  {
    name = abort
    description = """Abort the active Measurement Plan and safe the trackers."""
    completionType = immediate
  }

  # ------------------------------------------------------------
  #  Force an immediate status publish
  # ------------------------------------------------------------
  {
    name = requestTrackerStatus
    description = """Publish trackerStatus now for the selected trackers."""
    completionType = immediate
    requiredArgs = ["t1","t2","t3"]
    args = [
      {
        name = t1
        description = """Include Tracker 1."""
        type = boolean
      }
      {
        name = t2
        description = """Include Tracker 2."""
        type = boolean
      }
      {
        name = t3
        description = """Include Tracker 3."""
        type = boolean
      }
    ]
  }

]